<div class="mydrinks">
  <h1 class="w-100 text-center mb-3 font-bolder">Drinks</h1>
  <form>
    <div class="formStyle">
      <div class="formStyle__input">
        <label for="name">Name: </label>
        <input [(ngModel)]="drinksName" name="drinksName" type="text"  id="name">
      </div>
  
      <div class="formStyle__input">
        <label for="drinksUrlName">URL name: </label>
        <input [(ngModel)]="drinksUrlName" name="drinksUrlName" type="text"  id="drinksUrlName">
      </div>
    </div>
    <div class="formStyle">
      <div class="formStyle__input">
          <label for="countIng">Count of ingredient: </label>
          <input name="counts" class="text-center" [(ngModel)]="counts" type="text"  id="countIng">
        </div>
  
      <div class="formStyle__input">
          <label for="countIng">Add count of ingredient</label>
        <button (click)="createIngredient()" class="formStyle__input--button"  >Add</button>
      </div>
    </div>
    
    <div class="formStyle">
      <div *ngFor="let ing of ingredients; let i = index" class="formStyle__input">
        <label for="ingred"> ingredient: </label>
        <input  [(ngModel)]="ing.ingredient" name="ing.ingredient" (change)="checkIngred(ing.ingredient, i)" type="text"  id="ingred">
        <div class="formStyle__input--upload">
        <input type="file" id="inputGroupFile04" (change)="uploadFileIngred($event, i)" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
        <button class="btn btn-outline-secondary" type="button" id="inputGroupFileAddon04">Button</button>
      </div>
      </div>
    </div>
    <div class="formStyle">
      <div class="formStyle__input">
          <label for="countSteps">Count of step of cooking: </label>
          <input name="counts" class="text-center" [(ngModel)]="countStep" type="text"  id="countSteps">
        </div>
  
      <div class="formStyle__input">
          <label for="countS">Add count of step</label>
        <button (click)="createSteps()" class="formStyle__input--button">Add</button>
      </div>
    </div>
    
    <div class="formStyle">
      <div *ngFor="let s of steps; index as i" class="formStyle__input">
        <label for="stepCook"> Step of cooking: </label>
        <input [(ngModel)]="s.step" name="s"  (change)="checkSteps(s.step, i)" type="text"  id="stepCook">
        <div class="formStyle__input--upload">
          <input type="file" class=" mt-3" id="inputGroupFile04" (change)="uploadFileIngred($event, i)" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
          <button class="btn btn-outline-secondary" type="button" id="inputGroupFileAddon04">Button</button>
        </div>
        
      </div>
    </div>
    <div class="input-group formStyle-last">
      <input type="file" class="form-control" id="inputGroupFile04" (change)="uploadFileStep($event)" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
      <button class="btn btn-outline-secondary" type="button" id="inputGroupFileAddon04">Button</button>
    </div>
    
    <div class="progress mt-3 mb-3">
      <div class="progress-bar progress-bar-striped bg-success" role="progressbar"
              [style.width]="(uploadProgress | async) + '%'" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
  
  
    <div class="formStyle">
      <button type="button" class="mybuttom" *ngIf="!editStatus" >ADD</button>
      <button type="button" class="mybuttom bg-success" *ngIf="editStatus" >SAVE</button>
      <!-- <button type="button" class="btn but btn-info">Save</button> -->
    </div>
  
  </form>
  <hr>
  
  
  <table class="table mytable">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Url Name</th>
        <th scope="col">Ingredients</th>
        <th scope="col">Step of cooking</th>
        <th scope="col">Image</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let drink of drinks; let i=index">
              <td>{{ i+1 }}</td>
              <td>{{ drink.name }}</td>
              <td>{{ drink.urlName}}</td>
              <td>
                <span *ngFor="let ing of drink.ingredients; let i=index">
                  <p> {{ ing.ingredient | uppercase}}</p>
                </span>
              </td>
              <td>
                <span *ngFor="let step of drink.stepOfCook; let i=index">
                  <p> {{ step.step | uppercase}}</p>
                </span>
              </td>
              <td>
                  <img [attr.src]="drink?.image" style="width: 100px;" alt="">
              </td>
              <td>
                  <button class="btn btn-warning" (click)="editProduct(prod)">edit</button>
              </td>
              <td>
                  <button class="btn btn-danger" (click)="deleteProduct(prod)">delete</button>
              </td>
          </tr>
    </tbody>
  </table>
</div>

